makeme listen_and_read
makeme ask_more

say "========================================"
say "      MOMMYLANG GRAND TEST SUITE v0.2   "
say "========================================"

say "--- SECTION 1: BASICS & MATH ---"
mayihave 10 in num as int
add num with 10
say "Add 10 (Expect 20):"
say num

say "--- SECTION 2: FLOATS ---"
mayihave 85.5 in score as float
say "Float Value:"
say score

say "--- SECTION 3: POINTERS (THE BOX) ---"
mayihave 69 in magic as int
mayihave null in ptr as box

replace ptr with magic address
replace ptr with 999 inside
say "Pointer Write (Expect 999):"
say magic

say "--- SECTION 4: LOGIC ---"
ask if magic == 999
    say "Logic: OK."
or
    say "Logic: FAIL."
done

say "--- SECTION 5: LOOPS ---"
mayihave 0 in i as int
say "Looping to 3:"
punishme 5
    add i with 1
    say i
    ask if i == 3
        satisfied
    done
done

say "========================================"
say "       SECTION 7: ARRAYS (NEW!)         "
say "========================================"

group 5 in numbers as int
say "Array Created."


say "Writing 100 to index 0..."
replace numbers in 0 with 100

say "Writing 200 to index 1..."
replace numbers in 1 with 200

say "Check Write (Expect 100):"
say numbers in 0


mayihave 0 in temp_val as int

say "Reading index 1 into variable..."
replace temp_val with numbers in 1

say "Variable now holds (Expect 200):"
say temp_val


say "Adding 50 to variable..."
add temp_val with 50

say "Writing 250 to index 2..."
replace numbers in 2 with temp_val

say "Check Index 2 (Expect 250):"
say numbers in 2


say "Copying Index 0 (100) to Index 4..."
replace temp_val with numbers in 0
replace numbers in 4 with temp_val

say "Check Index 4 (Expect 100):"
say numbers in 4

say "========================================"
say "    SECTION 8: HEAP ALLOCATION (NEW!)   "
say "========================================"

say "Testing heap-int allocation..."
ibegyou 5 in heap_nums as int

say "Writing to heap index 0..."
replace heap_nums in 0 with 777

say "Writing to heap index 4..."
replace heap_nums in 4 with 888

say "Reading heap index 0 (Expect 777):"
say heap_nums in 0

say "Reading heap index 4 (Expect 888):"
say heap_nums in 4

say "Freeing heap memory..."
takeitback heap_nums

say "Heap test complete!"

say "========================================"
say "    SECTION 9: HEAP ASCII (NEW!)        "
say "========================================"

ibegyou 10 in heap_text as ascii

say "Writing ASCII to heap index 0..."
replace heap_text in 0 with 65

say "Writing ASCII to heap index 5..."
replace heap_text in 5 with 90

say "Reading heap ASCII index 0 (Expect 65/A):"
say heap_text in 0

say "Reading heap ASCII index 5 (Expect 90/Z):"
say heap_text in 5

takeitback heap_text

say "========================================"
say "         ALL SYSTEMS GO. GOOD JOB.      "
say "========================================"
leave